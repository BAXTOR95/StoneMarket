{% extends "base.html" %} {% block title %}Manage Categories{% endblock %} {%
block content %}
<h2>Manage Categories</h2>

<h3>Add Category</h3>
<form method="POST" action="{{ url_for('manage_categories') }}">
	{{ form.hidden_tag() }}
	<div class="form-group">
		{{ form.name.label }} {{ form.name(class="form-control") }}
	</div>
	<button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
</form>

<h3>Existing Categories</h3>
<ul class="list-group">
	{% for category in categories %}
	<li class="list-group-item d-flex justify-content-between align-items-center">
		{{ category.name }}
		<form
			action="{{ url_for('delete_category', category_id=category.id) }}"
			method="post"
			onsubmit="return confirm('Are you sure you want to delete this category?');"
		>
			<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
			<button type="submit" class="btn btn-danger btn-sm">Delete</button>
		</form>
	</li>
	{% endfor %}
</ul>
{% endblock %}
